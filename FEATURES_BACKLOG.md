# AutoSay — Features Backlog

Идеи для будущих фич. Приоритет и порядок реализации — по мере необходимости.

---

## 1. Макросы / подстановки в сообщениях
**Приоритет**: Высокий
**Статус**: Идея

Пользователь пишет кастомное сообщение с переменными, аддон подставляет значения перед отправкой.

Возможные переменные:
- `{time}` — время суток ("Good morning" / "Good evening")
- `{dungeon}` — название текущего инстанса
- `{key}` — уровень ключа M+ (если применимо)
- `{role}` — роль игрока (Tank / Healer / DPS)
- `{group_size}` — размер группы
- `{boss}` — имя последнего босса (для kill/wipe сообщений)

---

## 2. Wipe / Kill поздравления
**Приоритет**: Высокий
**Статус**: Идея

Автоматические сообщения после убийства босса или вайпа.

- Ивент: `ENCOUNTER_END` (success/wipe флаг)
- Канал: party/raid (тот же чат группы)
- Кулдаун: отдельный или общий — TBD
- Примеры Kill: "GG!", "Nice!", "Good job!", "Ez!", "Well played!"
- Примеры Wipe: "We got this!", "Next try!", "Almost had it!", "Shake it off!"
- Настройки: вкл/выкл отдельно Kill и Wipe, свой пул фраз

---

## 3. Праздничные фразы
**Приоритет**: Средний
**Статус**: Идея

Автоматическое добавление тематических фраз в пул на период реальных праздников.

Праздники (предварительный список):
- Новый год (31 дек — ~7 янв)
- Рождество (25 дек / 7 янв)
- Хэллоуин (31 окт)
- День святого Валентина (14 фев)
- Пасха (дата плавает)
- День независимости Украины (24 авг)

Механика: фразы добавляются в пул автоматически на период праздника.
Настройки: вкл/выкл праздничных фраз.

---

## 4. Приветствия по ролям
**Приоритет**: Средний
**Статус**: Идея

Упоминание роли нового участника в приветствии.

- API: `UnitGroupRolesAssigned(unit)` — TANK / HEALER / DAMAGER
- Для DPS возможно не упоминать роль (они не "ключевые")
- Проблема: роль не всегда доступна сразу при джойне, нужны задержки/ретраи
- Формат: отдельная фраза ("Welcome, healer!") или суффикс к обычному приветствию
- Частота: всегда или с вероятностью (чтобы не было роботизировано)

---

## 5. AFK авто-ответ
**Приоритет**: Низкий
**Статус**: Идея

Автоматический ответ когда кто-то упоминает твоё имя в чате, а ты в AFK.

- Триггер: парсинг `CHAT_MSG_PARTY` / `CHAT_MSG_RAID` / `CHAT_MSG_GUILD` на своё имя
- Проверка: `UnitIsAFK("player")` или `/afk` статус
- Дисклеймер в сообщении: `[Auto] I'm currently AFK` (чтобы было понятно что автоматическое)
- Кулдаун: отдельный, ~60 сек (чтобы не спамить при повторных упоминаниях)
- Канал ответа: в тот же канал где упомянули

---

## 6. M+ ключ — сообщение о старте
**Приоритет**: Высокий
**Статус**: Реализовано

Когда группа для M+ ключа собрана (5/5), отправить сообщение с информацией о ключе.

- Отдельный таб "Mythic+" в настройках
- Три режима определения уровня ключа: Basic / With level / Smart
- Триггер: GROUP_ROSTER_UPDATE → 5/5 + активный LFG листинг
- Кеширование данных листинга через LFG_LIST_ACTIVE_ENTRY_UPDATE
- Пул сообщений с поддержкой {dungeon} и {key} плейсхолдеров
- Опция "Send only as group leader" (вкл по умолчанию)
- Тестовая команда: `/as test key`

---

## 7. Публикация на Wago Addons и WoWInterface
**Приоритет**: Низкий
**Статус**: Идея

Расширить дистрибуцию аддона на дополнительные платформы.

- BigWigsMods/packager уже поддерживает все три платформы из коробки
- Нужно: зарегистрировать аддон на Wago/WoWInterface, получить project ID
- В `.toc` добавить `## X-WoWI-ID:` и `## X-Wago-ID:`
- В GitHub Secrets добавить `WOWI_API_TOKEN` и `WAGO_API_TOKEN`
- В `release.yml` добавить env переменные для токенов
- После настройки каждый `git push --tags` автоматически публикует на все платформы
- Разовая настройка ~15-20 минут, дальше zero maintenance

---

## Заметки

- Все новые фичи должны следовать существующей архитектуре (пул фраз, рандом, кулдаун, per-channel настройки)
- Каждая фича — отдельный toggle в настройках
- Совместимость с WoW 12.0+ API
